<!DOCTYPE html>
<html lang="en">
<head>
    <% include partials/head.ejs %>
</head>
<body id="body" data-spy="scroll" data-target=".one-page-header" class="demo-lightbox-gallery">
<script>(function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s);
        js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8&appId=175488799579769";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
<main class="wrapper" ng-app="iMovieUi">
    <header>
        <% include partials/header.ejs %>
    </header>

    <input type="hidden" ng-value="authProp =isAuthenticated()"/>


    <div class="container  pt-85 pb-100" ng-controller="MovieCharacterCtrl">
        <div class="row">
            <div class="col-md-9">
                <h2 class="g-heading"><strong>{{character.name}}</strong>
                    <small>by</small>
                    {{character.playedBy}}
                </h2>
                <div class="character-view-wrapper">
                    <div class="row">
                        <div class="col-md-4 col-sm-4">
                            <div class="character-view">
                                <img ng-src="{{character.imgUrl}}" class="img-responsive img-center rnd-8"/>
                            </div>
                        </div>
                        <div class="col-md-8 col-sm-8">
                            <div class="character-info">
                                <div class="info-heading">
                                    <div class="row">
                                        <div class="col-md-5 col-sm-5 col-xs-6">
                                            <h4><strong>Rate</strong></h4>
                                        </div>
                                        <div class="col-md-7 col-sm-7 col-xs-6">
                                            <h4><strong>Movie</strong></h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="info-body">
                                    <div class="row">
                                        <div class="col-md-4 col-sm-5 col-xs-6">
                                            <p class="rate-lg gold"> {{rateAverage}} <i class="fa fa-star"></i></p>

                                            <p class="fs-20"> {{character.rates.length}} users rate</p>
                                            <span ng-hide="avgUpdate">
                                                <star-rating class="star-rating" rating-value="rateValue"
                                                             data-max="10"
                                                             user-rate="userRate"
                                                             on-rating-selected="rateFunction(rating)">
                                                </star-rating>
                                           </span>
                                            <i ng-show="avgUpdate" class="fa fa-spin fa-spinner" aria-hidden="true"></i>
                                        </div>
                                        <div class="col-md-8 col-sm-7 col-xs-6">

                                            <div class="row">
                                                <div class="col-md-5 col-sm-5 col-xs-10 col-md-offset-0 col-sm-offset-0 col-xs-offset-1">
                                                    <img ng-src="{{character.movies[0].poster}}"
                                                         class="img-responsive img-center">
                                                </div>
                                                <div class="col-md-7 pl-0 col-sm-7">

                                                    <h4>{{character.movies[0].name}}
                                                        <small>({{character.movies[0].year}})</small>
                                                    </h4>
                                                    <p class="mt-xs-5">iMDb Rating
                                                        (<strong>{{character.movies[0].IMDbRating}}/10</strong>)</p>

                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                            </div>


                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="fb-comments" data-href="http://localhost:3000/docs/plugins/comments#{{character._id}}"
                         data-numposts="5"></div>
                </div>
            </div>
            <div class="col-md-3 hidden-sm hidden-xs">
              <div class="recommended-box">
                  <div class="rec-heading">
                      recommended
                  </div>
                  <div ng-repeat="item in recommended track by $index">
                      <div class="rec-item">
                          <div class="row">
                              <div class="col-md-4">
                                  <img ng-src="{{item.imgUrl}}" class="img-responsive">
                                  <h4>{{item.name}} </h4>
                                  <h5><small>by</small> {{item.playedBy}}</h5>
                              </div>
                              <div class="col-md-8">
                                  <h3>{{item.movies[0].name}}</h3>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>

            </div>

        </div>
    </div>

    <footer>
        <% include partials/footer.ejs %>
    </footer>

    <% include partials/scripts.ejs %>
</main>
</body>
</html>